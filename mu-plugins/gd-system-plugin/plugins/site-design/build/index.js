!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){!function(){e.exports=this.jQuery}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(22);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(23),o=n(3);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var r=n(17),o=n(18),c=n(19),s=n(21);e.exports=function(e,t){return r(e)||o(e,t)||c(e,t)||s()}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.editPost}()},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)&&r.length){var s=o.apply(null,r);s&&e.push(s)}else if("object"===c)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,c=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}}},function(e,t,n){var r=n(20);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},,function(e,t,n){"use strict";n.r(t);var r=n(10),o=n.n(r),c=n(11),s=n.n(c),i=n(7),a=n.n(i),l=n(5),u=n.n(l),f=n(3),p=n.n(f),y=n(8),d=n.n(y),g=n(9),b=n.n(g),h=n(4),m=n.n(h),v=n(0),S=n(6),C=n.n(S),O=n(2),j=n(13),P=n(14),k=n(1),_=n(15),x=n(12),w=Object(v.createElement)(k.SVG,{fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object(v.createElement)(k.Path,{d:"m10 3c-3.86556 0-7 3.13444-7 7 0 3.8656 3.13444 7 7 7 .6456 0 1.1667-.5211 1.1667-1.1667 0-.3033-.1167-.5755-.3034-.7855-.1789-.2022-.2955-.4745-.2955-.77 0-.6456.5211-1.1667 1.1666-1.1667h1.3767c2.1467 0 3.8889-1.7422 3.8889-3.88888 0-3.43778-3.1344-6.22222-7-6.22222zm-4.27778 7c-.64555 0-1.16666-.52111-1.16666-1.16667 0-.64555.52111-1.16666 1.16666-1.16666.64556 0 1.16667.52111 1.16667 1.16666 0 .64556-.52111 1.16667-1.16667 1.16667zm2.33334-3.11111c-.64556 0-1.16667-.52111-1.16667-1.16667 0-.64555.52111-1.16666 1.16667-1.16666.64555 0 1.16666.52111 1.16666 1.16666 0 .64556-.52111 1.16667-1.16666 1.16667zm3.88884 0c-.6455 0-1.1666-.52111-1.1666-1.16667 0-.64555.5211-1.16666 1.1666-1.16666.6456 0 1.1667.52111 1.1667 1.16666 0 .64556-.5211 1.16667-1.1667 1.16667zm2.3334 3.11111c-.6456 0-1.1667-.52111-1.1667-1.16667 0-.64555.5211-1.16666 1.1667-1.16666.6455 0 1.1666.52111 1.1666 1.16666 0 .64556-.5211 1.16667-1.1666 1.16667z",fill:"currentColor"})),D=[{slug:"traditional",label:Object(O.__)("Traditional","coblocks"),palettes:[["one",{background:"#ffffff",primary:"#c76919",secondary:"#122538",tertiary:"#f8f8f8"}],["two",{background:"#ffffff",primary:"#165153",secondary:"#212121",tertiary:"#f3f1f0"}],["three",{background:"#ffffff",primary:"#87200e",secondary:"#242611",tertiary:"#f9f2ef"}],["four",{background:"#ffffff",primary:"#a88548",secondary:"#05212d",tertiary:"#f9f4ef"}]]},{slug:"modern",label:Object(O.__)("Modern","coblocks"),palettes:[["one",{background:"#ffffff",primary:"#000000",secondary:"#455a64",tertiary:"#eceff1"}],["two",{background:"#ffffff",primary:"#c2185b",secondary:"#ec407a",tertiary:"#fce4ec"}],["three",{background:"#ffffff",primary:"#303f9f",secondary:"#5c6bc0",tertiary:"#e8eaf6"}],["four",{background:"#ffffff",primary:"#00796b",secondary:"#26a69a",tertiary:"#e0f2f1"}]]},{slug:"trendy",label:Object(O.__)("Trendy","coblocks"),palettes:[["one",{background:"#ffffff",primary:"#000000",secondary:"#4d0859",tertiary:"#ded9e2"}],["two",{background:"#ffffff",primary:"#000000",secondary:"#003c68",tertiary:"#c0c9d0"}],["three",{background:"#ffffff",primary:"#000000",secondary:"#02493b",tertiary:"#b4c6af"}],["four",{background:"#ffffff",primary:"#000000",secondary:"#cc224f",tertiary:"#e5dede"}]]},{slug:"welcoming",label:Object(O.__)("Welcoming","coblocks"),palettes:[["one",{background:"#eeeeee",primary:"#165144",secondary:"#01332e",tertiary:"#c9c9c9"}],["two",{background:"#eeeeee",primary:"#233a6b",secondary:"#01133d",tertiary:"#c9c9c9"}],["three",{background:"#eeeeee",primary:"#5b3f20",secondary:"#3f2404",tertiary:"#c9c9c9"}],["four",{background:"#eeeeee",primary:"#443a82",secondary:"#2b226b",tertiary:"#c9c9c9"}]]},{slug:"playful",label:Object(O.__)("Playful","coblocks"),palettes:[["one",{background:"#ffffff",primary:"#3f46ae",secondary:"#ecb43d",tertiary:"#f7fbff"}],["two",{background:"#ffffff",primary:"#e06b6d",secondary:"#40896e",tertiary:"#fff7f7"}],["three",{background:"#ffffff",primary:"#3c896d",secondary:"#6b0369",tertiary:"#f2f9f7"}],["four",{background:"#ffffff",primary:"#117495",secondary:"#d691c1",tertiary:"#f7feff"}]]}];function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var R=function(e){d()(n,e);var t=E(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.designStyles,n=e.setDesignStyle,r=e.setPalette,o=e.applyPalette,c=e.updateDesignStyles,s=e.selectedDesignStyle,i=e.selectedPalette;return Object(v.createElement)(k.RadioControl,{label:Object(O.__)("Choose a curated design style, then personalize your site's colors.","site-design"),selected:s,options:t,onChange:function(e){n(e),r("one"),o([],e),c(e,i,!1)}})}}]),n}(v.Component),B=n(16),A=n.n(B);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var T=function(e){d()(n,e);var t=N(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).onChangePalette=r.onChangePalette.bind(p()(r)),r.onChangeColor=r.onChangeColor.bind(p()(r)),r}return u()(n,[{key:"titleCase",value:function(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}}]),u()(n,[{key:"onChangePalette",value:function(e){e.preventDefault(),this.props.onChangePalette&&this.props.onChangePalette()}},{key:"onChangeColor",value:function(e,t){this.props.onChangeColor&&this.props.onChangeColor(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isActive,r=t.palette,c=A()("color-palette__body",{"is-opened":n}),s=function(t,n){var r=e.props,o=r.isActive,c=r.customColors,s=Object.keys(c).shift();return o&&void 0!==s&&c[s][t]?c[s][t].includes("#")?c[s][t]:"#".concat(c[s][t]):n};return Object(v.createElement)("div",{className:c},Object(v.createElement)("div",{className:"color-palette__preview"},Object(v.createElement)(k.Button,{className:"color-palette__preview-button",onClick:this.onChangePalette,"aria-expanded":n},Object.entries(r).map((function(e){var t=o()(e,2),n=t[0],r=t[1];return Object(v.createElement)(k.ColorIndicator,{key:"color-preview-".concat(n),colorValue:s(n,r)})})))),n&&Object(v.createElement)("div",{className:"color-palette__colors"},Object.entries(r).map((function(t){var n=o()(t,2),r=n[0],c=n[1];return Object(v.createElement)(k.Dropdown,{key:"color-picker-".concat(r),position:"bottom center",renderToggle:function(t){var n=t.isOpen,o=t.onToggle;return Object(v.createElement)(k.Button,{isLink:!0,onClick:o,"aria-expanded":n},Object(v.createElement)(k.ColorIndicator,{key:"color-".concat(r),colorValue:s(r,c)}),e.titleCase(r))},renderContent:function(){return Object(v.createElement)(k.ColorPicker,{color:s(r,c),onChangeComplete:function(t){return e.onChangeColor(r,t)},disableAlpha:!0})}})}))))}}]),n}(v.Component);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var I=function(e){d()(n,e);var t=z(n);function n(){var e;return a()(this,n),(e=t.apply(this,arguments)).setPalette=e.setPalette.bind(p()(e)),e.applyPalette=e.applyPalette.bind(p()(e)),e.updateDesignStyles=e.updateDesignStyles.bind(p()(e)),e.setDesignStyle=e.setDesignStyle.bind(p()(e)),e.setColorSchemeColor=e.setColorSchemeColor.bind(p()(e)),e.state={selectedDesignStyle:nextgenSiteDesign.currentDesignStyle,selectedPalette:nextgenSiteDesign.currentColorScheme,customColors:s()({},nextgenSiteDesign.currentColorScheme,{background:nextgenSiteDesign.currentColors.background,primary:nextgenSiteDesign.currentColors.primary,secondary:nextgenSiteDesign.currentColors.secondary,tertiary:nextgenSiteDesign.currentColors.tertiary}),showSaveBtn:!1,saveBtnLoading:!1},e}return u()(n,[{key:"componentWillUpdate",value:function(e,t){this.state.selectedDesignStyle===t.selectedDesignStyle&&this.state.selectedPalette===t.selectedPalette&&JSON.stringify(this.state.customColors)===JSON.stringify(t.customColors)||this.setState({showSaveBtn:!0})}},{key:"componentWillMount",value:function(){this.updateDesignStyles(this.state.selectedDesignStyle,this.state.selectedPalette,!1)}},{key:"setDesignStyle",value:function(e){this.setState({selectedDesignStyle:e,customColors:{}})}},{key:"setColorSchemeColor",value:function(e,t,n){this.setState({customColors:s()({},e,M(M({},this.state.customColors[e]),{},s()({},t,n)))}),this.applyPalette(s()({},t,n))}},{key:"setPalette",value:function(e){this.state.selectedPalette!==e&&this.setState({selectedPalette:e,customColors:{}})}},{key:"applyPalette",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e.length||""!==t){if(""!==t){var n=D.filter((function(e){return e.slug===t}));e=n[0].palettes[0][1]}Object.entries(e).forEach((function(e){var t=o()(e,2),n=t[0],r=t[1];document.documentElement.style.setProperty("--go--color--".concat(n),r)}))}}},{key:"updateDesignStyles",value:function(e,t,n){var r=this.state.selectedPalette,o=this;this.setState({saveBtnLoading:!0}),C.a.post(ajaxurl,{action:"site_design_update_design_style",design_style:e,color_palette:t,primary_color:r in this.state.customColors&&"primary"in this.state.customColors[r]?this.state.customColors[r].primary:null,secondary_color:r in this.state.customColors&&"secondary"in this.state.customColors[r]?this.state.customColors[r].secondary:null,tertiary_color:r in this.state.customColors&&"tertiary"in this.state.customColors[r]?this.state.customColors[r].tertiary:null,background_color:r in this.state.customColors&&"background"in this.state.customColors[r]?this.state.customColors[r].background:null,should_update:n},(function(e){if(!e.success)return console.error(Object(O.__)("We encountered an error.","site-design")),void console.error(e);C()(".site-design-styles").length||C()("head").append('<div class="site-design-styles"></div>'),C()(".site-design-styles").html('<style type="text/css">'+e.data.fontStyles+e.data.stylesheet+e.data.customColors+"</style>"),C()(".editor-post-title__input").css("height","");var t={saveBtnLoading:!1};n&&(t.showSaveBtn=!1),o.setState(t)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedPalette,r=t.selectedDesignStyle,c=this.props,s=c.updateSettings;c.getSettings;return Object(v.createElement)(v.Fragment,null,Object(v.createElement)(j.PluginSidebar,{name:"components-site-design-design-sidebar",title:Object(O.__)("Site design","site-design"),icon:w},this.state.showSaveBtn&&Object(v.createElement)(k.BaseControl,{className:"components-nextgen-site-design save-changes"},Object(v.createElement)(k.Button,{isPrimary:!0,isLarge:!0,disabled:this.state.saveBtnLoading,onClick:function(){return e.updateDesignStyles(e.state.selectedDesignStyle,e.state.selectedPalette,!0)}},Object(O.__)("Save","site-design"))),Object(v.createElement)(k.BaseControl,{className:"components-site-design-styles"},Object(v.createElement)(R,{designStyles:D.map((function(e){return{label:e.label,value:e.slug}})),selectedDesignStyle:r,setDesignStyle:this.setDesignStyle,setPalette:this.setPalette,applyPalette:this.applyPalette,updateDesignStyles:this.updateDesignStyles})),Object(v.createElement)(k.PanelBody,{title:Object(O.__)("Colors","site-design"),className:"site-design--colors__panel"},Object(v.createElement)(k.BaseControl,{className:"components-site-design-color-palettes"},D.find((function(e){return e.slug===r})).palettes.map((function(t){var c=o()(t,2),i=c[0],a=c[1];return Object(v.createElement)(T,{key:"palette-".concat(i),palette:a,customColors:e.state.customColors,isActive:n.replace("".concat(r,"-"),"")===i,onChangePalette:function(){return function(t,n){e.state.selectedPalette!==t&&(s({colors:n}),e.setPalette(t),e.applyPalette(n))}(i,a)},onChangeColor:function(t,n){return e.setColorSchemeColor(i,t,n.hex)}})}))))))}}]),n}(v.Component);Object(P.registerPlugin)("site-design",{icon:w,render:Object(_.compose)([Object(x.withSelect)((function(e){return{getSettings:e("core/block-editor").getSettings}})),Object(x.withDispatch)((function(e){return{updateSettings:e("core/block-editor").updateSettings}}))])(I)})}]);